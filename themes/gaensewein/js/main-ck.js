/**********************************
  *
  * JS main-file for theme
  *
  *********************************/function bgSlideshow(){var e=[];$("#bgimages span").each(function(){var t=$(this).html();t!=="baby_background.jpg"&&e.push({src:"uploads/images/"+$(this).html(),fade:1e3})});$.vegas.defaults={background:{src:null,loading:!1}};$.vegas("slideshow",{delay:7e3,loading:!1,backgrounds:e})}function openForm(e,t,n,r){$("#contactForm").remove();$.ajax({type:"GET",dataType:"HTML",url:"themes/gaensewein/contact/contactForm.php?from="+e+"&to="+t+"&where="+n+"&title="+r,success:function(n){console.log("openForm success");$('div.content#Die_Termine p[data-fromto="'+e+t+'"]').append(n)},fail:function(e){console.log("openForm error: "+e)}})}function contactFormValidate(){var e=!1,t=!1,n=!1,r=!1;$('input[name="user-email"]').val()===$('input[name="user-email-val"]').val()&&(e=!0);$('input[name="user-name"]').val()!==""&&$('input[name="user-name"]').val()!==" "&&(n=!0);$('input[name="user-check"]').checked&&(t=!0);$('#contactForm input[name="belegung"]:checked').val()!=="undefined"&&(r=!0);console.log("[contactFormValidate] Mailcheck: "+e+" nameCheck: "+n+" UserCheck: "+t+" checkBelegung: "+r);e&&n&&!t&&r?sendContactForm():alert('Bitte machen Sie die notwendigen Angaben: "Name", "Email" und "Belegung".')}function sendContactForm(){$.ajax({type:"POST",data:{data:contactFormToSTRING()},url:"themes/gaensewein/contact/contact.php",success:function(e){e.substr(0,3)=="Vie"?$("#contactForm").html("<b>"+e+"</b>"):alert(e);console.log("sendContactForm success: "+e)},error:function(e){alert(e);console.log("sendContactForm error: "+e)}})}function contactFormToSTRING(){var e=$("#contactForm #termin").html()+"<br>"+" Name: "+$('#contactForm input[name="user-name"]').val()+"<br>"+" Email: "+$('#contactForm input[name="user-email"]').val()+"<br>";$('#contactForm input[name="user-street"]').val()!==""?e=e+" Adresse: "+$('#contactForm input[name="user-street"]').val()+"<br>":"";$('#contactForm input[name="user-tel"]').val()!==""?e=e+" Tel: "+$('#contactForm input[name="user-tel"]').val()+"<br>":"";$('#contactForm input[name="user-birthday"]').val()!==""?e=e+" Geburtstag: "+$('#contactForm input[name="user-birthday"]').val()+"<br>":"";$('#contactForm input[name="user-height"]').val()!==""?e=e+" Groesse: "+$('#contactForm input[name="user-height"]').val()+"<br>":"";$('#contactForm input[name="user-weight"]').val()!==""?e=e+" Gewicht: "+$('#contactForm input[name="user-weight"]').val()+"<br>":"";$('#contactForm textarea[name="user-fasten"]').val()!==''?e=e+" Fastengewohnheiten: "+$('#contactForm textarea[name="user-fasten"]').val()+"<br>":"";$('#contactForm textarea[name="user-foodhabits"]').val()!==''?e=e+" Essgewohnheiten: "+$('#contactForm textarea[name="user-foodhabits"]').val()+"<br>":"";$('#contactForm textarea[name="user-medics"]').val()!==''?e=e+" Medikamente: "+$('#contactForm textarea[name="user-medics"]').val()+"<br>":"";$('#contactForm textarea[name="user-disabilities"]').val()!==''?e=e+" Einschraenkungen: "+$('#contactForm textarea[name="user-disabilities"]').val()+"<br>":"";$('#contactForm textarea[name="user-hobby"]').val()!==''?e=e+" Beruf und Hobbies: "+$('#contactForm textarea[name="user-hobby"]').val()+"<br>":"";e=e+" Belegung: "+$('#contactForm input[name="belegung"]:checked').val()+"<br>";$('#contactForm textarea[name="user-message"]').val()!==''?e=e+" Nachricht: "+$('#contactForm textarea[name="user-message"]').val()+"<br>":"";console.log("[contactFormToString]: "+e);return e}var hash=decodeURIComponent(location.hash.split("#").pop()),firstload=0;$(document).ready(function(){hash.length>0&&$(".content#"+hash).addClass("content_active");$("#menu_list a").each(function(){var e=$(this).attr("href"),t=e.split("=").pop();$(this).attr("href","#"+t);$(this).click(function(){$("#menu_list a").each(function(){$(this).removeClass("current-link")});$("input#menu-checkbox").attr("checked",!1);$(this).addClass("current-link")})});$("#Die_Orte a").each(function(){var e=$(this).attr("href"),t=e.split("=").pop();$(this).attr("href","#"+t)});$(window).on("resize",function(){if($(this).width()<=650){$.vegas("destroy");$(".vegas-background").outerHTML=""}else $(this).width()>=650&&$(".content_active").length<1&&bgSlideshow()});if($(".content_active").length<1&&$(window).width()>=650)bgSlideshow();else if(typeof vegas!="undefined"){$.vegas("destroy");$(".vegas-background").outerHTML=""}var e=JSON.parse($("div.content#Die_Termine").html());$("div.content#Die_Termine").html("<p><strong>Die Termine</strong></p>");$.each(e,function(e,t){$("div.content#Die_Termine").append('<p data-fromto="'+t.from+t.to+'"><strong>'+t.from+" bis "+t.to+"</strong><br>"+t.title+" - "+t.where+"<br>"+t.free+" freie Pl√§tze<br>Preis: "+t.price+"<br><button onclick=\"openForm('"+t.from+"','"+t.to+"','"+t.where+"','"+t.title+'\');" class="contactFormBtn">Zur Anmeldung &#9660;</button></p><hr>')});$("#Die_Orte img").each(function(){var e=$(this).attr("src"),t=$(this).attr("alt"),n=$(this).attr("title"),r=t.replace(/\s+/g,"_");$(this).before('<div class="ort"><a href="#'+r+'" class="ortimg" style="background: url('+e+');"></a><br><a href="#'+r+'"><b>'+t+"</b></a><br>"+n+"<hr></div>");$(this).remove()});$("img").removeAttr("width").removeAttr("height").removeAttr("style")});$("body").bind("vegasload",function(){if(firstload<1){$("#loader").hide();firstload=1}});window.onhashchange=function(){var e=location.hash.split("#").pop(),t=decodeURIComponent(e),n=$(".content_active").attr("id");if(t!==n){$(".content_active").removeClass("content_active");$(".content#"+t).addClass("content_active")}$(".content_active").length<1?bgSlideshow():typeof $.vegas!="undefined"?$.vegas("destroy"):$.vegas("destroy")};