/**********************************
  *
  * JS main-file for theme
  *
  *********************************/function bgSlideshow(){$.vegas.defaults={background:{src:null,loading:!1}};$.vegas("slideshow",{delay:7e3,preload:!0,loading:!1,backgrounds:[{src:"uploads/images/background1.jpg",fade:1e3},{src:"uploads/images/background2.jpg",fade:1e3},{src:"uploads/images/background3.jpg",fade:1e3},{src:"uploads/images/background4.jpg",fade:1e3},{src:"uploads/images/background5.jpg",fade:1e3}]})}function initVegas(){var e="";if($(".content_active").length>0){e=$(".content_active").attr("data-dir");$.vegas.defaults={background:{src:null,loading:!1}};$.vegas({src:"uploads/images/"+e+"/background.jpg",fade:500})}else bgSlideshow()}function initMaps(){var e={zoom:14,center:new google.maps.LatLng(53.165899999999986,13.89259999999998),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControl:!0,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU,position:google.maps.ControlPosition.TOP_RIGHT},panControl:!0,panControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.TOP_RIGHT},scaleControl:!0,scaleControlOptions:{position:google.maps.ControlPosition.TOP_RIGHT},streetViewControl:!1},t=new google.maps.Map(document.getElementById("map-canvas"),e),n='<b>Gr&uuml;nheider Strasse 8<br><br><a href="https://maps.google.de/maps?daddr=Gr%C3%BCnheider+Stra%C3%9Fe+8,+17291+Oberuckersee&ie=UTF8&sll=51.180966976476995,10.439459077164726&sspn=15.075891821914668,31.856073282216066&t=m&z=8" target="_blank">Route hierher finden</a></b>',r=new google.maps.InfoWindow({content:n,maxWidth:200}),i=new google.maps.Marker({position:e.center,map:t,title:"Ferienhaus Melzow"});google.maps.event.addListener(i,"click",function(){r.open(t,i)})}function toggleContent(){$(".content_active .fold").length>0&&$(".content_active .fold").remove();$(".content_active").append('<div class="fold"><span class="icon-arrow-up"></span></div>');$(".content_active *").show();$(".content").css("background","rgba(255,255,255, 0.87)");$(".content").css("-webkit-box-shadow","#fff 0 0 10px inset");$(".content_active .fold").html('<span class="icon-arrow-up"></span>');$(".fold").on("click",function(){$(".content_active *").toggle();$(".content_active h1").show();$(".content_active .fold").show();if($(".content_active p").is(":visible")){$(".content").css("background","rgba(255,255,255, 0.87)");$(".content").css("-webkit-box-shadow","#fff 0 0 10px inset");$(".content_active .fold").html('<span class="icon-arrow-up"></span>')}else{$(".content").css("background","rgba(255,255,255, 0.5)");$(".content").css("-webkit-box-shadow","rgba(255,255,255,.2) 0 0 10px inset");$(".content_active .fold").html('<span class="icon-arrow-down"></span>')}})}var hash=decodeURIComponent(location.hash.split("#").pop()),firstload=0,vegasExists=document.documentElement.clientWidth>650;$(document).ready(function(){hash.length>0&&$(".content#"+hash).addClass("content_active");if(hash==="Karte"){$(".content_active").after('<div id="map-canvas"></div>');$(".content_active").removeClass("content_active");$.vegas("destroy");initMaps()}else $(this).width()>=650&&initVegas();$("#menu_list a").each(function(){var e=$(this).attr("href"),t=e.split("=").pop();$(this).attr("href","#"+t);$(this).click(function(){$("#menu_list a").each(function(){$(this).removeClass("current-link")});$("input#menu-checkbox").attr("checked",!1);$(this).addClass("current-link")})});$(window).on("resize",function(){if($(this).width()<=650){$.vegas("destroy");$(".vegas-background").outerHTML=""}else $(this).width()>=650&&initVegas()});$(".fotorama a").each(function(){var e=$(this).attr("href"),t=e.slice(0,e.indexOf("images")),n=e.split("uploads").pop();$(this).attr("data-thumb",t+"thumbs"+n)});toggleContent()});$("body").bind("vegasstart",function(){var e='<div id="preloader">';$(".content").each(function(){var t=$(this).attr("data-dir");e+='<img src="uploads/images/'+t+'/background.jpg" width="1" height="1" />'});e+="</div>";$("body").append(e)});$("body").bind("vegasload",function(){if(firstload<1){$("#loader").hide();firstload=1}});window.onhashchange=function(){var e=location.hash.split("#").pop(),t=decodeURIComponent(e),n=$(".content_active").attr("id");if(t!==n){$(".content_active").removeClass("content_active");$(".content#"+t).addClass("content_active");toggleContent()}var r=t.substr(0,t.indexOf("_"));if(t==="Karte"){$(".content_active").after('<div id="map-canvas"></div>');$(".content_active").removeClass("content_active");vegasExists&&$.vegas("destroy");initMaps()}else{$("#map-canvas").remove();vegasExists&&$.vegas("destroy");vegasExists&&initVegas()}};